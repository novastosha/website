<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cars</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Open Graph tags -->
  <meta property="og:title" content="Cars">
  <meta property="og:description" content="A random car!">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://sajed.dev/cat">
  <meta property="og:image" content="https://api.sajed.dev/cat">
  <meta property="og:image:alt" content="A random car!">

  <style>
    html {
      font-family: Roboto Mono, monospace;
      font-size: 14px;
      line-height: 1.2em;
      height: 100%;
    }
    body {
      max-width: 768px;
      margin: 1em auto;
      color: var(--text-color);
    }
    h1 {
      margin-bottom: 1em;
    }
    #navbar {
      margin-bottom: 1.5em;
    }
    :root {
      --text-color: #000000;
      --link-color: #0000ee;
    }
    a,
    a:visited {
      color: var(--link-color);
    }
    a:active,
    a:hover {
      color: #fff;
      background-color: var(--link-color);
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --text-color: #eeeeee;
        --link-color: #0392da;
      }
      body {
        background: #000;
        color: var(--text-color);
      }
    }
    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
      border: 1px solid #ccc;
    }
  </style>
</head>

<body>
  <div id="navbar">
    <a href="/">&larr; home</a>
  </div>

  <h1>### cat</h1>
  <div id="potd"></div>

  <script>
    async function fetchCatImage() {
      try {
        const response = await fetch('https://api.thecatapi.com/v1/images/search');
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        const data = await response.json();
        const imgElement = document.createElement('img');
        imgElement.src = data[0].url;
        imgElement.alt = 'A random cat';
        document.getElementById('potd').appendChild(imgElement);
      } catch (error) {
        console.error('There has been a problem with your fetch operation:', error);
      }
    }

    fetchCatImage();
  </script>
</body>
</html>
